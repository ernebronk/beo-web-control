<html>
    <head>
        <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css" >
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" href="style.css" >
        <script src="bootstrap/dist/js/bootstrap.min.js" ></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
        <script src="/socket.io/socket.io.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <title>Music Control</title>
    </head>

    <body><section class="body">
        <div class="wrap">
            <div class="container">
                <div class="row">
                    <div class="page col-md-8 col-md-offset-2">
                        <h1>Music Control</h1>
                        <hr>
                        <p>Use the slider to change the volume. If no music is heard, check wether the iPod is turned on.</p>
                    </div>
                </div>
                <div class="row" id="app">
                    <div v-for="device in devices" class="page col-md-8 col-md-offset-2">
                        <h3>{{device.name}} </h3>
                        <hr>
                        <h3>Volume <span id="demo">{{device.volume}}</span></h3>
                        <input v-on:input="update" type="range" min="1" max="90" class="slider" id="volume" v-model:value="device.volume">
                    </div>

                </div>
            </div>
        </div>
    </section></body>

    <script>
        var app = new Vue({
            el: "#app",
            data: {
                devices: [],
                volume: 0
            },
            methods: {
                update: function() {
                    socket.emit('update', this.devices)
                }
            },
        })

        var socket = io.connect();
        socket.on('devices', function(data) {
            app.devices = data;
        });
    </script>
</html>
